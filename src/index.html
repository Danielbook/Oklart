<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>Väderapp</title>

	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

    <!-- Bootstrap -->
    <link href="assets/css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="assets/css/style.css" rel="stylesheet">
</head>
<body>

	<div class="container-fluid">
		<div class="row"> <!-- SEARCH BAR-->
		<div class="col-xs-3"></div>
		<div class="col-xs-6">
			<div class="input-group searchBar">
	      		<input type="text" class="form-control center" placeholder="Stad...">
	      		<span class="input-group-btn">
        			<button class="btn btn-default" type="button">Search!</button>
	      		</span>
		    </div><!-- /input-group -->
		</div>
		<div class="col-xs-3"></div>
			
		</div>
		
		<div class="row"> <!-- OUTER DIVS -->
	    	<div class="col-md-6"> <!-- MAP -->
	    		<img src="assets/img/map.png" class="img-responsive center" alt="map">
	    	</div> <!-- MAP -->
	    	<div class="col-md-6"> <!-- GRAPH AND TABLE -->
	    		<div class ="row center">
	    			<img src="assets/img/graph.jpg" class="img-responsive center" alt="map">
	    		</div>
	    		<div class ="row center">
	    			<img src="assets/img/table.gif" class="img-responsive center" alt="map">
	    		</div>
	    	</div> <!-- GRAPH AND TABLE -->
	  	</div>
	</div>

	<p id="result"></p>
	<script>
        $('#loader').hide();
        $('#pagecontent').show();


       	//Longitud - horisontellt - x - ALATS, ALATN
		//Latutud - vertikalt - y - ALONW, ALONE
		//Modifierade hörnpunkterna något efter jag fick ERROR på vissa koordinater
		var ALATS=54, ALATN=70.75, ALONW=2.25, ALONE=27.00;
		var sampleLenght = 2.0;
		var dataArray = { data: [] };
		var datastring = "";
		var howMany = 0;

		for(var lon = ALONW; lon < ALONE; lon = lon + sampleLenght){
			for(var lat = ALATS; lat < ALATN; lat = lat + sampleLenght){
				var smhiAPI = "http://opendata-download-metfcst.smhi.se/api/category/pmp1.5g/version/1/geopoint/lat/" + lat + "/lon/" + lon + "/data.json";
				$.getJSON(smhiAPI, function(data){
					dataArray.data.push(data); 
				});
				howMany++;
			}
		}

		console.log(howMany);

		setTimeout(
		  function() 
		  {
		    console.log(dataArray);
		  }, 10000);
	</script>
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="assets/js/bootstrap.min.js"></script>
</body>
</html>